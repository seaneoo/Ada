//
//  Story.swift
//  Ada
//
//  Created by Sean O'Connor on 7/10/23.
//

import Foundation

struct Item: Codable, Identifiable {
    var id: Int // the item's unique id
    var deleted: Bool? // true, if the item is deleted
    var type: ItemType? // the type of the item (job, story, comment, poll, or pollopt)
    var by: String? // the username of the item's author
    var time: Int? // the creation date and time of the item, in Unix time
    var text: String? // the comment, story, or poll text (HTML)
    var dead: Bool? // true, if the item is dead
    var parent: Int? // the comment's parent (an item id)
    var poll: Int? // the pollopt's associated poll
    var kids: [Int]? // the ids of the item's comments
    var url: String? // the url of the story
    var score: Int? // the story's score
    var title: String? // the title of the story, poll, or job (HTML)
    var parts: [Int]? // a list of related pollopts
    var descendants: Int? // the total comment count
}

// The type of item. One of "job", "story", "comment", "poll", or "pollopt".
enum ItemType: String, Codable {
    case job, story, comment, poll, pollopt
}

extension Item: Equatable {
    static func == (lhs: Item, rhs: Item) -> Bool {
        lhs.id == rhs.id
    }

    static let Preview = Item(id: 36245435, type: .story, by: "timf", time: 1686244947, kids: [36251756, 36245775, 36246314, 36246092, 36245608, 36245899, 36247159, 36245911, 36245797, 36246004, 36245580, 36246090, 36245721, 36245633, 36247133, 36245823, 36246738, 36246099, 36245637, 36246649, 36245592, 36248716, 36246244, 36250683, 36245905, 36245528, 36249636, 36246886, 36246691, 36252092, 36248689, 36247428, 36247444, 36246589, 36254296, 36245969, 36252915, 36245827, 36245649, 36248567, 36246465, 36247764, 36249632, 36249100, 36248388, 36246205, 36249841, 36246596, 36245659, 36246417, 36246576, 36247418, 36245456, 36253961, 36250475, 36249033, 36245737, 36249151, 36247816, 36246316, 36249870, 36246801, 36247924, 36250580, 36246959, 36246467, 36251662, 36259650, 36245799, 36251459, 36247277, 36246766, 36247485, 36246456, 36246492, 36247905, 36247560, 36247003, 36246488, 36248988, 36246423, 36247252, 36283087, 36248819, 36248441, 36249094, 36247742, 36246079, 36245877, 36248755, 36252845, 36248899, 36246661, 36251581, 36245549, 36246370, 36249470, 36246846, 36248601, 36247836, 36246348, 36246795, 36247101, 36249486, 36246235, 36247056, 36248885, 36246147, 36249014, 36246221, 36246684, 36249181, 36246610, 36247798, 36248558, 36250113, 36246609, 36250003, 36256022, 36247100, 36248227, 36245684, 36247526, 36249733, 36247568, 36247494, 36249874, 36246642, 36256449, 36247109, 36246001, 36246756, 36267081, 36251705, 36246408, 36251426, 36249782, 36246893, 36250589, 36249106, 36249139, 36247633, 36246337, 36245777, 36257748, 36246311, 36249688, 36246556, 36245945, 36249689, 36246029, 36245533, 36253793, 36246925, 36249211, 36248273, 36250698, 36252457, 36252074, 36263309, 36251707, 36250621, 36247075, 36246280, 36253634, 36264654, 36254926, 36251640, 36277348, 36245731, 36250015, 36248086, 36246880, 36246347, 36251273, 36246670, 36252570, 36247256, 36254159, 36246420, 36252957, 36248749, 36246675, 36248000, 36249612, 36248686, 36246182, 36246151, 36247315, 36249385, 36247489, 36246644, 36247149, 36246469, 36252650, 36246931, 36246193, 36247718, 36245971, 36251749, 36248434, 36247220, 36277492, 36246533, 36245636, 36246297, 36247141, 36248682, 36245904, 36245710],
                              url: "https://old.reddit.com/r/apolloapp/comments/144f6xm/apollo_will_close_down_on_june_30th_reddits/", score: 3421, title: "Apollo will close down on June 30th",
                              descendants: 1609)
}
